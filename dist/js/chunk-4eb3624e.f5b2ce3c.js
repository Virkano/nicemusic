(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4eb3624e"],{"4eb9":function(t,e,i){},"629c":function(t,e,i){},"9b38":function(t,e,i){"use strict";i("4eb9")},b20d:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},t._l(t.sheetList,(function(e){return i("div",{key:e.id,staticClass:"item",class:t.numClass,on:{click:function(i){return t.toDetail(e)}}},[i("div",{staticClass:"wrapper"},[i("a",[i("div",{staticClass:"cover"},[i("div",{staticClass:"image"},[i("el-image",{key:e.picUrl||e.coverImgUrl+"?param=300y300",attrs:{src:e.picUrl||e.coverImgUrl+"?param=300y300",lazy:""}},[i("div",{staticClass:"image-slot flex-center flex-column",attrs:{slot:"placeholder"},slot:"placeholder"},[i("i",{staticClass:"iconfont niceicon-3"}),i("p",[t._v("加载中"),i("span",{staticClass:"dot"},[t._v("...")])])]),i("div",{staticClass:"image-slot flex-center",attrs:{slot:"error"},slot:"error"},[i("i",{staticClass:"el-icon-picture-outline"})])])],1),i("div",{staticClass:"count"},[i("i",{staticClass:"arrow"}),i("span",[t._v(t._s(t.utils.tranNumber(e.playCount,0)))])])])])]),i("div",{staticClass:"info"},[i("h2",{staticClass:"name ellipsis-two"},[t._v(" "+t._s(e.name)+" ")])])])})),0)},s=[],n={data:function(){return{}},props:{sheetList:{type:Array},num:{type:Number,default:8}},components:{},computed:{numClass:function(){return 2==this.num?"two":"eight"}},watch:{},methods:{toDetail:function(t){console.log(t);var e={id:t.id};this.$router.push({name:"playlistDetail",query:e})}},created:function(){},mounted:function(){}},c=n,r=(i("b8b5"),i("c701")),o=Object(r["a"])(c,a,s,!1,null,"58033584",null);e["a"]=o.exports},b8b5:function(t,e,i){"use strict";i("629c")},ea06:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"playlist-wrap container"},[i("div",{staticClass:"filter shadow"},[i("div",{staticClass:"title flex-center",on:{click:t.openFilter}},[t._v(" "+t._s(t.currentCat)+" "),i("i",{staticClass:"iconfont niceiconfontyoujiantou-copy-copy-copy-copy"}),i("transition",{attrs:{name:"fade"}},[t.showFilter?i("div",{staticClass:"filter-box shadow"},t._l(t.cateList,(function(e){return i("div",{key:e.key,staticClass:"item"},[i("h2",[i("i",{staticClass:"iconfont",class:e.icon}),t._v(t._s(e.type)+" ")]),i("ul",t._l(e.list,(function(e){return i("li",{key:e.name,class:t.currentCat==e.name?"active":"",on:{click:function(i){return t.chooseCat(e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])})),0):t._e()])],1),i("div",{staticClass:"hot-tag flex-row"},[i("p",[t._v("热门标签：")]),i("ul",{staticClass:"flex-center"},t._l(t.hotCategories,(function(e){return i("li",{key:e.id,class:t.currentCat==e.name?"active":"",on:{click:function(i){return t.chooseCat(e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]),i("div",{staticClass:"type"},[i("div",{staticClass:"item",class:"hot"==t.sortType?"active":"",on:{click:function(e){return t.chooseType("hot")}}},[t._v(" 热门 ")]),i("div",{staticClass:"item",class:"new"==t.sortType?"active":"",on:{click:function(e){return t.chooseType("new")}}},[t._v(" 最新 ")])])]),i("song-sheet",{directives:[{name:"loading",rawName:"v-loading",value:t.fullscreenLoading,expression:"fullscreenLoading"}],attrs:{sheetList:t.playList}}),i("div",{staticClass:"page-wrap"},[i("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.limit,background:"","hide-on-single-page":"",layout:"total, prev, pager, next",total:t.pageTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},s=[],n=i("ca55"),c=i.n(n),r=i("3c1c"),o=i.n(r),l=i("b20d"),u={data:function(){return{categories:{},hotCategories:[],cateList:[],playList:[],showFilter:!1,pageTotal:0,currentPage:0,limit:40,offset:0,currentCat:"全部",sortType:"hot",typeList:[{key:0,value:"语种",icon:"niceyuyan"},{key:1,value:"风格",icon:"nicefengge"},{key:2,value:"场景",icon:"nicekafeidengdai"},{key:3,value:"情感",icon:"niceqingganqingshu"},{key:4,value:"主题",icon:"nicepifugexinghuazhuti-xianxing"}],fullscreenLoading:!1}},components:{songSheet:l["a"]},computed:{},watch:{},methods:{handleSizeChange:function(t){this.limit=t,this.offset=this.limit*this.currentPage,this.getPlayList()},handleCurrentChange:function(t){this.currentPage=t,this.offset=(t-1)*this.limit,this.getPlayList()},openFilter:function(){this.showFilter=!this.showFilter},chooseType:function(t){this.sortType=t,this.getPlayList()},chooseCat:function(t){this.currentCat=t,this.getPlayList()},getCatList:function(){var t=this;return o()(c.a.mark((function e(){var i;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.getCatList();case 3:i=e.sent,200===i.code&&(t.categories=i.categories,t.cateList=t.categoryGroup(i.sub,"category")),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getHotlist:function(){var t=this;return o()(c.a.mark((function e(){var i;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.getHotlist();case 3:i=e.sent,200===i.code&&(t.hotCategories=i.tags),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getPlayList:function(){var t=this;return o()(c.a.mark((function e(){var i,a;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.fullscreenLoading=!0,i={order:t.sortType,cat:t.currentCat,limit:t.limit,offset:t.offset},e.prev=2,e.next=5,t.$api.getPlayList(i);case 5:a=e.sent,200===a.code&&(t.playList=a.playlists,t.pageTotal=a.total,t.fullscreenLoading=!1),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()},categoryGroup:function(t,e){for(var i=this,a={},s=0;s<t.length;s++){for(var n in t[s])n==e&&(a[t[s][n]]={list:a[t[s][e]]?a[t[s][e]].list:[]});a[t[s][e]].list.push(t[s])}var c=[],r=function(t){var e="",s="",n="";i.typeList.map((function(i){i.key==a[t].list[0].category&&(e=i.value,s=i.key,n=i.icon)})),c.push({type:e,category:s,icon:n,list:a[t].list})};for(var o in a)r(o);return c}},created:function(){},mounted:function(){var t=this.$route.query.cat;console.log(t),t&&(this.currentCat=t),this.getHotlist(),this.getCatList(),this.getPlayList()}},p=u,h=(i("9b38"),i("c701")),f=Object(h["a"])(p,a,s,!1,null,"49e0a650",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-4eb3624e.f5b2ce3c.js.map