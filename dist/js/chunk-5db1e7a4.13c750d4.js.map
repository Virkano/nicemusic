{"version":3,"sources":["webpack:///./src/components/common/mvList/Index.vue?c310","webpack:///src/components/common/mvList/Index.vue","webpack:///./src/components/common/mvList/Index.vue?b7db","webpack:///./src/components/common/mvList/Index.vue","webpack:///./node_modules/_@babel_runtime@7.12.5@@babel/runtime/helpers/classCallCheck.js","webpack:///./src/views/video/Index.vue?708a","webpack:///src/views/video/Index.vue","webpack:///./src/views/video/Index.vue?341f","webpack:///./src/views/video/Index.vue","webpack:///./src/components/common/mvList/Index.vue?574a","webpack:///./src/model/video.js","webpack:///./src/views/video/Index.vue?15c5"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","mvs","length","_l","item","key","id","class","isLive","image","attrs","slot","_v","_s","utils","tranNumber","playCount","on","$event","toLive","toDetail","type","nickName","duration","name","_e","staticRenderFns","data","props","Array","loadStatus","Boolean","loading","String","components","computed","noMore","disabled","watch","methods","window","open","url","stopPlay","$router","push","query","created","mounted","component","_classCallCheck","instance","Constructor","TypeError","module","exports","openFilter","currentCat","chooseCat","directives","rawName","value","expression","videos","offset","prev","hasmore","next","currentId","hotCategories","tags","showFilter","fullscreenLoading","MvList","getVideoOther","getVideoAll","_normalizeVideos","list","map","res","vid","ret","getVideoCategory","getVideoTag","Video","createVideo","videoData","formatTime"],"mappings":"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","file":"js/chunk-5db1e7a4.13c750d4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mv-box\"},[(_vm.mvs.length > 0)?_c('ul',{staticClass:\"mv-list\"},_vm._l((_vm.mvs),function(item){return _c('li',{key:item.id,class:item.isLive ? 'live' : ''},[_c('div',{staticClass:\"cover\"},[_c('div',{staticClass:\"image\"},[_c('el-image',{key:item.image + '?param=352y197',attrs:{\"src\":item.image + '?param=325y197',\"lazy\":\"\"}},[_c('div',{staticClass:\"image-slot flex-center flex-column\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"iconfont niceicon-3\"})]),_c('div',{staticClass:\"image-slot flex-center\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"})])])],1),_c('div',{staticClass:\"count\"},[_c('i',{staticClass:\"arrow\"}),_c('span',[_vm._v(_vm._s(_vm.utils.tranNumber(item.playCount, 0)))])]),_c('div',{staticClass:\"action\"},[(!item.isLive)?_c('button',{staticClass:\"play flex-center\",attrs:{\"title\":\"播放\"},on:{\"click\":function($event){return _vm.toDetail(item.id, item.type)}}},[_c('i',{staticClass:\"iconfont nicebofang1\"})]):_c('button',{staticClass:\"play flex-center\",attrs:{\"title\":\"播放\"},on:{\"click\":function($event){return _vm.toLive(item.id)}}},[_c('i',{staticClass:\"iconfont nicebofang1\"})])]),_c('div',{staticClass:\"foot\"},[_c('p',[_vm._v(_vm._s(item.nickName))]),_c('p',[_vm._v(_vm._s(item.duration))])])]),_c('div',{staticClass:\"info\"},[_c('h2',{staticClass:\"title ellipsis\"},[_vm._v(_vm._s(item.name))])])])}),0):_c('nice-empty'),(_vm.loadStatus)?_c('div',{staticClass:\"load-bottom\"},[_c('nice-loading')],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mv-box\">\n    <ul class=\"mv-list\" v-if=\"mvs.length > 0\">\n      <li v-for=\"item of mvs\" :key=\"item.id\" :class=\"item.isLive ? 'live' : ''\">\n        <div class=\"cover\">\n          <div class=\"image\">\n            <el-image\n              :key=\"item.image + '?param=352y197'\"\n              :src=\"item.image + '?param=325y197'\"\n              lazy\n            >\n              <div\n                slot=\"placeholder\"\n                class=\"image-slot flex-center flex-column\"\n              >\n                <i class=\"iconfont niceicon-3\"></i>\n              </div>\n              <div slot=\"error\" class=\"image-slot flex-center\">\n                <i class=\"el-icon-picture-outline\"></i>\n              </div>\n            </el-image>\n          </div>\n          <div class=\"count\">\n            <i class=\"arrow\"></i>\n            <span>{{ utils.tranNumber(item.playCount, 0) }}</span>\n          </div>\n          <div class=\"action\">\n            <button\n              class=\"play flex-center\"\n              title=\"播放\"\n              v-if=\"!item.isLive\"\n              @click=\"toDetail(item.id, item.type)\"\n            >\n              <i class=\"iconfont nicebofang1\"></i>\n            </button>\n            <button\n              class=\"play flex-center\"\n              title=\"播放\"\n              v-else\n              @click=\"toLive(item.id)\"\n            >\n              <i class=\"iconfont nicebofang1\"></i>\n            </button>\n          </div>\n          <div class=\"foot\">\n            <p>{{ item.nickName }}</p>\n            <p>{{ item.duration }}</p>\n          </div>\n        </div>\n        <div class=\"info\">\n          <h2 class=\"title ellipsis\">{{ item.name }}</h2>\n        </div>\n      </li>\n    </ul>\n    <nice-empty v-else></nice-empty>\n    <div v-if=\"loadStatus\" class=\"load-bottom\">\n      <nice-loading />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nexport default {\n  data() {\n    return {}\n  },\n  props: {\n    mvs: {\n      type: Array\n    },\n    loadStatus: {\n      type: Boolean\n    },\n    loading: {\n      type: Boolean\n    },\n    type: {\n      type: String\n    }\n  },\n  components: {},\n  computed: {\n    noMore() {\n      return !this.loading\n    },\n    disabled() {\n      return this.loading || this.noMore\n    }\n  },\n  watch: {},\n  methods: {\n    // 直播跳转\n    toLive(id) {\n      let url = `https://iplay.163.com/live?id=${id}`\n      window.open(url, '_blank')\n    },\n    // 视频详情\n    toDetail(id) {\n      this.stopPlay()\n      if (typeof id == 'number' || id.length < 10) {\n        this.$router.push({\n          name: 'mvDetail',\n          query: {\n            id\n          }\n        })\n      } else {\n        this.$router.push({\n          name: 'videoDetail',\n          query: {\n            id\n          }\n        })\n      }\n    },\n    ...mapActions([\n      // 播放视频移除播放\n      'stopPlay'\n    ])\n  },\n  created() {},\n  mounted() {}\n}\n</script>\n<style lang=\"stylus\" scoped>\n.mv-box {\n  padding: 15px 0;\n  .mv-list {\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    margin: 0 -15px;\n    li {\n      padding: 0 15px 30px;\n      flex: 0 0 25%;\n      max-width: 25%;\n      .cover {\n        position: relative;\n        z-index: 2;\n        padding-top: 56%;\n        border-radius: 2px;\n        background-color: #000;\n        .image {\n          position: absolute;\n          top: 0;\n          left: 0;\n          overflow: hidden;\n          width: 100%;\n          height: 100%;\n          border-radius: 2px;\n        }\n        .count {\n          position: absolute;\n          right: 16px;\n          top: 1px;\n          height: 24px;\n          padding-left: 9px;\n          background: url(https://img.alicdn.com/tfs/TB1xEGRub9YBuNjy0FgXXcxcXXa-268-48.png) no-repeat 0;\n          background-size: cover;\n          color: #fff;\n          font-size: 12px;\n          font-weight: 700;\n          line-height: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          .arrow {\n            display: block;\n            width: 0;\n            height: 0;\n            border-style: solid;\n            border-width: 4px 0 4px 6px;\n            border-color: transparent transparent transparent #ffffff;\n            margin-right: 5px;\n          }\n          &:after {\n            content: '';\n            position: absolute;\n            right: -14px;\n            top: 0;\n            width: 14px;\n            height: 24px;\n            background: url(https://img.alicdn.com/tfs/TB1xEGRub9YBuNjy0FgXXcxcXXa-268-48.png) no-repeat 100%;\n            background-size: cover;\n          }\n        }\n        .action {\n          display: none;\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          -webkit-transform: translate(-50%, -50%);\n          -ms-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n          .play {\n            width: 32px;\n            height: 32px;\n            padding: 0;\n            border: none;\n            border-radius: 50%;\n            color: #fff;\n            cursor: pointer;\n            background-color: $color-theme;\n            i {\n              font-size: 12px;\n            }\n          }\n        }\n        .foot {\n          width: 100%;\n          height: 35px;\n          background: rgba(0,0,0, 0.6);\n          position: absolute;\n          left: 0;\n          bottom: 0;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 0 10px;\n          p {\n            color: #ffffff;\n          }\n        }\n        &:hover {\n          .action {\n            display: flex;\n          }\n        }\n      }\n      .info {\n        margin-top: 15px;\n        .title {\n          font-size: 14px;\n          font-weight: 500;\n          display: block;\n          line-height: 1.3;\n        }\n        .author {\n          margin-top: 5px;\n          font-size: 12px;\n          color: #999;\n        }\n      }\n      &.live {\n        .cover {\n          .foot {\n            background: rgba(250, 40, 0, 0.75);\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=6dd7d9ce&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=6dd7d9ce&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dd7d9ce\",\n  null\n  \n)\n\nexport default component.exports","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"video-wrap container\"},[_c('div',{staticClass:\"filter shadow\"},[_c('div',{staticClass:\"title flex-center\",on:{\"click\":_vm.openFilter}},[_vm._v(\" \"+_vm._s(_vm.currentCat)+\" \"),_c('i',{staticClass:\"iconfont niceiconfontyoujiantou-copy-copy-copy-copy\"}),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.showFilter)?_c('div',{staticClass:\"filter-box shadow\"},[_c('ul',_vm._l((_vm.tags),function(item){return _c('li',{key:item.id,class:_vm.currentCat == item.name ? 'active' : '',on:{\"click\":function($event){return _vm.chooseCat(item.id, item.name)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0)]):_vm._e()])],1),_c('div',{staticClass:\"hot-tag flex-row\"},[_c('p',[_vm._v(\"分类：\")]),_c('ul',{staticClass:\"flex-center\"},_vm._l((_vm.hotCategories),function(item){return _c('li',{key:item.id,class:_vm.currentCat == item.name ? 'active' : '',on:{\"click\":function($event){return _vm.chooseCat(item.id, item.name)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0)]),_c('div',{staticClass:\"all\",class:_vm.currentCat == '全部' ? 'active' : '',on:{\"click\":function($event){return _vm.chooseCat('', '全部')}}},[_vm._v(\" 全部 \")])]),_c('mv-list',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.fullscreenLoading),expression:\"fullscreenLoading\"}],attrs:{\"mvs\":_vm.videos}}),_c('div',{staticClass:\"page flex-center\"},[_c('button',{staticClass:\"btn flex-center trainsition\",attrs:{\"disabled\":_vm.offset == 0},on:{\"click\":_vm.prev}},[_vm._v(\" 上一页 \")]),_c('button',{staticClass:\"btn flex-center trainsition\",attrs:{\"disabled\":!_vm.hasmore},on:{\"click\":_vm.next}},[_vm._v(\" 下一页 \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"video-wrap container\">\n    <div class=\"filter shadow\">\n      <div class=\"title flex-center\" @click=\"openFilter\">\n        {{ currentCat }}\n        <i class=\"iconfont niceiconfontyoujiantou-copy-copy-copy-copy\"></i>\n        <transition name=\"fade\">\n          <div class=\"filter-box shadow\" v-if=\"showFilter\">\n            <ul>\n              <li\n                v-for=\"item of tags\"\n                :key=\"item.id\"\n                :class=\"currentCat == item.name ? 'active' : ''\"\n                @click=\"chooseCat(item.id, item.name)\"\n              >\n                {{ item.name }}\n              </li>\n            </ul>\n          </div>\n        </transition>\n      </div>\n      <div class=\"hot-tag flex-row\">\n        <p>分类：</p>\n        <ul class=\"flex-center\">\n          <li\n            v-for=\"item of hotCategories\"\n            :key=\"item.id\"\n            :class=\"currentCat == item.name ? 'active' : ''\"\n            @click=\"chooseCat(item.id, item.name)\"\n          >\n            {{ item.name }}\n          </li>\n        </ul>\n      </div>\n      <div\n        class=\"all\"\n        :class=\"currentCat == '全部' ? 'active' : ''\"\n        @click=\"chooseCat('', '全部')\"\n      >\n        全部\n      </div>\n    </div>\n    <mv-list :mvs=\"videos\" v-loading=\"fullscreenLoading\"></mv-list>\n    <div class=\"page flex-center\">\n      <button\n        :disabled=\"offset == 0\"\n        class=\"btn flex-center trainsition\"\n        @click=\"prev\"\n      >\n        上一页\n      </button>\n      <button\n        :disabled=\"!hasmore\"\n        class=\"btn flex-center trainsition\"\n        @click=\"next\"\n      >\n        下一页\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { createVideo } from '@/model/video'\nimport MvList from 'components/common/mvList/Index'\nexport default {\n  data() {\n    return {\n      currentCat: '全部',\n      currentId: '',\n      hotCategories: [],\n      tags: [],\n      videos: [],\n      offset: 0,\n      hasmore: true,\n      showFilter: false,\n      fullscreenLoading: false\n    }\n  },\n  components: {\n    MvList\n  },\n  computed: {},\n  watch: {},\n  methods: {\n    // 展开视频标签\n    openFilter() {\n      this.showFilter = !this.showFilter\n    },\n    // 下一页\n    next() {\n      this.offset += 1\n      if (this.currentId) {\n        this.getVideoOther(this.currentId)\n      } else {\n        this.getVideoAll()\n      }\n    },\n    // 上一页\n    prev() {\n      this.offset -= 1\n      if (this.currentId) {\n        this.getVideoOther(this.currentId)\n      } else {\n        this.getVideoAll()\n      }\n    },\n    // 获取视频分类列表\n    async getVideoCategory() {\n      try {\n        let res = await this.$api.getVideoCategory()\n        if (res.code === 200) {\n          let list = res.data.filter(item => {\n            return item.id !== 1000\n          })\n          this.hotCategories = list\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    // 获取视频标签列表\n    async getVideoTag() {\n      try {\n        let res = await this.$api.getVideoTag()\n        if (res.code === 200) {\n          let list = res.data.filter(item => {\n            return item.id !== 1000\n          })\n          this.tags = list\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    // 获取全部视频列表\n    async getVideoAll() {\n      this.fullscreenLoading = true\n      try {\n        let res = await this.$api.getVideoAll(this.offset)\n        if (res.code === 200) {\n          this.videos = this._normalizeVideos(res.datas)\n          this.fullscreenLoading = false\n          if (res.hasmore) {\n            this.hasmore = true\n          } else {\n            this.hasmore = false\n          }\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    // 获取视频标签/分类下的视频\n    async getVideoOther(id) {\n      try {\n        let res = await this.$api.getVideoOther(id, this.offset)\n        if (res.code === 200) {\n          this.videos = this._normalizeVideos(res.datas)\n          if (res.hasmore) {\n            this.hasmore = true\n          } else {\n            this.hasmore = false\n          }\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    // 处理视频\n    _normalizeVideos(list) {\n      let ret = []\n      list.map(item => {\n        let res = item.data\n        let liveRes = item.data.liveData\n        if (res.vid) {\n          ret.push(\n            createVideo({\n              id: res.vid,\n              nickName: res.creator.nickname,\n              name: res.title,\n              playCount: res.playTime,\n              duration: res.durationms,\n              image: res.coverUrl,\n              isLive: false\n            })\n          )\n        } else {\n          ret.push(\n            createVideo({\n              id: liveRes.liveRoom.liveRoomNo,\n              nickName: liveRes.liveUser.nickName,\n              name: liveRes.liveRoom.title,\n              playCount: liveRes.liveRoom.popularity,\n              duration:\n                liveRes.liveRoom.liveStatus == 1 ? '正在直播' : '直播已关闭',\n              image: liveRes.liveRoom.coverUrl,\n              isLive: true\n            })\n          )\n        }\n      })\n      return ret\n    },\n    // 选择分类\n    chooseCat(id, name) {\n      this.offset = 0\n      this.hasmore = true\n      this.currentCat = name\n      if (id) {\n        this.currentId = id\n        this.getVideoOther(id)\n      } else {\n        this.getVideoAll()\n      }\n    }\n  },\n  created() {},\n  mounted() {\n    this.getVideoCategory()\n    this.getVideoTag()\n    this.getVideoAll()\n  }\n}\n</script>\n<style lang=\"stylus\" scoped>\n.fade-enter {\n  opacity: 0;\n  transform: translate3d(0, 30px, 0);\n}\n\n.fade-enter-active {\n  transition: all 0.5s;\n}\n\n.fade-leave-to {\n  opacity: 0;\n  transform: translate3d(0, 30px, 0);\n}\n\n.fade-leave-active {\n  transition: all 0.5s;\n}\n.video-wrap {\n  .filter {\n    width: 100%;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    margin-bottom: 20px;\n    padding-right: 20px;\n    border-radius: 5px 0px 5px 5px;\n\n    .title {\n      width: auto;\n      height: 100%;\n      padding: 0 5px 0 15px;\n      background: $color-theme;\n      border-radius: 5px 0px 5px 5px;\n      color: #ffffff;\n      cursor: pointer;\n      position: relative;\n      margin-right: 15px;\n      position: relative;\n      &::after {\n        content: ''\n        width: 1px;\n        height: 20px;\n        margin-left: 12px;\n        background: #e7e7e7;\n        opacity: 0;\n      }\n      > i {\n        transform: rotate(90deg);\n        margin-left: 10px;\n        font-size: 18px;\n      }\n\n      .filter-box {\n        width: 720px;\n        height: 400px;\n        overflow-y: scroll;\n        background: rgba(255, 255, 255, 1);\n        border-radius: 5px;\n        color: #000;\n        position: absolute;\n        right: -631px;\n        top: 50px;\n        z-index: 100;\n        padding: 15px 10px 0 16px;\n        ul {\n          display: flex;\n          flex-wrap: wrap;\n          li {\n            padding: 8px 18px;\n            background: #f7f7f7;\n            border-radius: 16px;\n            margin: 0 10px 10px 0;\n            cursor: pointer;\n            font-size: 12px;\n            color: #161e27;\n            transition: all 0.4s;\n            &:hover {\n              color: #fff;\n              background: $color-theme;\n            }\n            &.active {\n              color: #fff;\n              background: $color-theme;\n            }\n          }\n        }\n      }\n\n      &:hover {\n        // border: 1px solid #cccccc;\n      }\n    }\n    .hot-tag {\n      flex: 1;\n      ul {\n        li {\n          margin: 0 5px;\n          padding-right: 10px;\n          cursor: pointer\n          &:hover {\n            color: #888;\n          }\n          &.active {\n            color: $color-theme;\n          }\n        }\n      }\n    }\n    .all {\n      background: #f7f7f7;\n      color: #161e27;\n      padding: 5px 10px;\n      font-size: 12px;\n      border-radius: 3px;\n      transition: all 0.4s;\n      cursor: pointer;\n      &.active {\n        background: $color-theme;\n        color: #fff;\n      }\n    }\n  }\n  .page {\n    .btn {\n      padding: 7px 10px;\n      border-radius: 3px;\n      background: $color-theme;\n      color: #ffffff;\n      margin: 0 10px;\n      cursor: pointer;\n      border: 0;\n      &.active {\n        background: $color-theme;\n        color: #ffffff;\n      }\n      &:hover {\n        background: $color-theme;\n        color: #ffffff;\n      }\n      &:disabled {\n        color: #fff;\n        background-color: #fab6b6;\n        border-color: #fab6b6;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=46e91003&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=46e91003&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46e91003\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/_stylus-loader@3.0.2@stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=6dd7d9ce&lang=stylus&scoped=true&\"","/** 视频处理方法 */\n\nimport utils from '../utils/utils'\n\nexport default class Video {\n  constructor({ id, nickName, name, playCount, duration, image, isLive }) {\n    ;(this.id = id),\n      (this.nickName = nickName),\n      (this.name = name),\n      (this.playCount = playCount),\n      (this.duration = duration),\n      (this.image = image),\n      (this.isLive = isLive)\n  }\n}\n\nexport function createVideo(videoData) {\n  if (videoData.duration > 0) {\n    videoData.duration = utils.formatTime(videoData.duration)\n  }\n  return new Video({\n    id: videoData.id,\n    nickName: videoData.nickName,\n    name: videoData.name,\n    playCount: videoData.playCount,\n    duration: videoData.duration,\n    image: videoData.image,\n    isLive: videoData.isLive\n  })\n}\n","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/_stylus-loader@3.0.2@stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=46e91003&lang=stylus&scoped=true&\""],"sourceRoot":""}